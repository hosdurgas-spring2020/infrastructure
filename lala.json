"DependsOn": "RDS"


"RDS": {
    "Type": "AWS::RDS::DBInstance",
    "Properties": {
      "AllocatedStorage": { "Ref": "RDSSize" },
      "Engine": { "Ref": "Engine" },
      "DBInstanceClass": { "Ref": "DBIC" },
      "DBInstanceIdentifier": { "Ref": "DBII" },
      "MultiAZ": false,
      "MasterUsername": { "Ref": "DBUsername" },
      "MasterUserPassword": { "Ref": "DBPass" },
      "DBSubnetGroupName": { "Ref": "RDSSubnetGroup" },
      "PubliclyAccessible": false,
      "DBName": { "Ref": "DBName" },
      "VPCSecurityGroups": [{ "Fn::GetAtt": ["DBSG", "GroupId"] }]
    }
  }
  ,
  "RDSParam1": {
    "Type": "AWS::SSM::Parameter",
    "Properties": {
      "Name": "DBHost",
      "Type": "String",
      "Value": { "Fn::GetAtt": ["RDS", "Endpoint.Address"] },
      "Description": "EndpointAddress"
    }
  },
  "RDSParam2": {
    "Type": "AWS::SSM::Parameter",
    "Properties": {
      "Name": "DBUsername",
      "Type": "String",
      "Value": { "Ref": "DBUsername" },
      "Description": "Username"
    }
  },
  "RDSParam3": {
    "Type": "AWS::SSM::Parameter",
    "Properties": {
      "Name": "DBPass",
      "Type": "String",
      "Value": { "Ref": "DBPass" },
      "Description": "Passwords"
    }
  }